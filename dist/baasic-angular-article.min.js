!function(e){var r=e.module("baasic.article",["baasic.api"]);r.config(["$provide",function(){}]),function(e,r){"use strict";r.service("baasicArticleRatingsRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("/article-ratings/{?searchQuery,page,rpp,sort,embed,fields}"),findByUser:e.parse("/article-ratings/{?username,page,rpp,sort,embed,fields}"),get:e.parse("/article-ratings/{id}/{?embed,fields}"),create:e.parse("/article-ratings"),parse:e.parse}}])}(e,r),function(e,r){"use strict";r.service("baasicArticleRatingsService",["baasicApiHttp","baasicApiService","baasicConstants","baasicArticleRatingsRouteService",function(r,t,a,i){return{routeService:i,find:function(e){return r.get(i.find.expand(t.findParams(e)))},findByUser:function(a,n){var s=e.extend({},n);return s.username=a,r.get(i.findByUser.expand(t.findParams(s)))},get:function(e,a){return r.get(i.get.expand(t.getParams(e,a)))},create:function(e){return r.post(i.create.expand(),t.createParams(e)[a.modelPropertyName])},update:function(e){var i=t.updateParams(e);return r.put(i[a.modelPropertyName].links("put").href,i[a.modelPropertyName])},remove:function(e){var i=t.removeParams(e);return r.delete(i[a.modelPropertyName].links("delete").href)}}}])}(e,r),function(e,r){"use strict";r.service("baasicArticleRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("/articles/{?searchQuery,page,rpp,sort,embed,fields,statuses,tags,startDate,endDate}"),get:e.parse("/articles/{id}/{?embed,fields}"),publish:e.parse("/articles/{id}/publish/"),purge:e.parse("/articles/purge/"),create:e.parse("/articles"),parse:e.parse,ratings:{find:e.parse("/articles/{id}/ratings{?page,rpp,sort,embed,fields}"),findByUsername:e.parse("/articles/{id}/users/{username}/ratings/{?embed,fields}"),create:e.parse("/articles/{id}/ratings/"),parse:e.parse},tags:{find:e.parse("/articles/{id}/tags/{?searchQuery,page,rpp,sort,embed,fields}"),get:e.parse("/articles/{id}/tags/{tag}/{?embed,fields}"),create:e.parse("/articles/{id}/tags/{tag}/"),parse:e.parse}}}])}(e,r),function(e,r,t){"use strict";r.service("baasicArticleService",["baasicApiHttp","baasicApiService","baasicConstants","baasicArticleRouteService",function(r,a,i,n){function s(r){return e.isUndefined(r)||null===r||""===r?r:(r=r.toLowerCase(),r=r.replace(/[^a-z0-9]+/g,"-"),r=r.replace(/^-|-$/g,""))}function c(r){var t=s(r.slug);(e.isUndefined(t)||null===t||""===t||r.status===u.draft)&&(t=s(r.title)),e.isUndefined(t)&&null===t&&""===t||e.equals(r.slug,t)||(r.slug=t)}var u={none:0,published:2,draft:1,archive:4};return{routeService:n,statuses:u,updateSlug:c,find:function(i){function s(){return e.isUndefined(i.startDate)||null===i.startDate?t:i.startDate.toISOString()}function c(){return e.isUndefined(i.endDate)||null===i.endDate?t:i.endDate.toISOString()}var u=a.findParams(i);return u.startDate=s(),u.endDate=c(),r.get(n.find.expand(u))},get:function(e,t){return r.get(n.get.expand(a.getParams(e,t)))},create:function(e){return c(e),r.post(n.create.expand(),a.createParams(e)[i.modelPropertyName])},update:function(t){(e.isUndefined(t.slug)||null===t.slug||""===t.slug)&&c(t);var n=a.updateParams(t);return r.put(n[i.modelPropertyName].links("put").href,n[i.modelPropertyName])},saveDraft:function(r){return e.isUndefined(r.id)?this.create(r):this.update(r)},remove:function(e){var t=a.removeParams(e);return r.delete(t[i.modelPropertyName].links("delete").href)},archive:function(e){var t=a.updateParams(e);return r.put(t[i.modelPropertyName].links("archive").href)},restore:function(e){var t=a.updateParams(e);return r.put(t[i.modelPropertyName].links("restore").href)},publish:function(e,t){return r.put(n.publish.expand(a.getParams(e,t)))},purge:function(e){return r.delete(n.purge.expand(e))},ratings:{find:function(t,i){var s=e.extend({},i);return s.articleId=t,r.get(n.ratings.find.expand(a.findParams(s)))},findByUsername:function(t,i,s){var c=e.extend({},s);return c.articleId=t,c.username=i,r.get(n.ratings.findByUsername.expand(a.findParams(c)))},create:function(e){return r.post(n.ratings.create.expand(),a.createParams(e)[i.modelPropertyName])},update:function(e){var t=a.updateParams(e);return r.put(t[i.modelPropertyName].links("put").href,t[i.modelPropertyName])},remove:function(e){var t=a.removeParams(e);return r.delete(t[i.modelPropertyName].links("delete").href)},removeAll:function(e){var t=a.removeParams(e);return r.delete(t[i.modelPropertyName].links("delete-ratings-by-article").href)}},tags:{find:function(t,i){var s=e.extend({},i);return s.articleId=t,r.get(n.tags.find.expand(a.findParams(s)))},get:function(t,i,s){var c=e.extend({},s);return c.articleId=t,r.get(n.tags.get.expand(a.getParams(i,c)))},create:function(e){return r.post(n.tags.create.expand(e),a.createParams(e)[i.modelPropertyName])},remove:function(e){var t=a.removeParams(e);return r.delete(t[i.modelPropertyName].links("delete").href)},removeAll:function(e){var t=a.removeParams(e);return r.delete(t[i.modelPropertyName].links("delete-tags-by-article").href)}}}}])}(e,r),function(e,r){"use strict";r.service("baasicArticleSettingsRouteService",["baasicUriTemplateService",function(e){return{get:e.parse("/article-settings/{?embed,fields}"),parse:e.parse}}])}(e,r),function(e,r){"use strict";r.service("baasicArticleSettingsService",["baasicApiHttp","baasicApiService","baasicConstants","baasicArticleSettingsRouteService",function(e,r,t,a){return{routeService:a,get:function(t){return e.get(a.get.expand(r.getParams(t)))},update:function(a){var i=r.updateParams(a);return e.put(i[t.modelPropertyName].links("put").href,i[t.modelPropertyName])}}}])}(e,r),function(e,r){"use strict";r.service("baasicArticleTagsRouteService",["baasicUriTemplateService",function(e){return{find:e.parse("/article-tags/{?searchQuery,page,rpp,sort,embed,fields}"),get:e.parse("/article-tags/{id}/{?embed,fields}"),create:e.parse("/article-tags"),parse:e.parse}}])}(e,r),function(e,r){"use strict";r.service("baasicArticleTagsService",["baasicApiHttp","baasicApiService","baasicConstants","baasicArticleTagsRouteService",function(e,r,t,a){return{routeService:a,find:function(t){return e.get(a.find.expand(r.findParams(t)))},get:function(t,i){return e.get(a.get.expand(r.getParams(t,i)))},create:function(i){return e.post(a.create.expand(),r.createParams(i)[t.modelPropertyName])},update:function(a){var i=r.updateParams(a);return e.put(i[t.modelPropertyName].links("put").href,i[t.modelPropertyName])},remove:function(a){var i=r.removeParams(a);return e.delete(i[t.modelPropertyName].links("delete").href)}}}])}(e,r)}(angular);